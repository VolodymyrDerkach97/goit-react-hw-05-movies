"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[184],{4184:function(e,n,t){t.r(n),t.d(n,{default:function(){return x}});var r=t(5861),s=t(9439),u=t(4687),c=t.n(u),a=t(1087),i=t(7689),o=t(2791),f=t(6304),l=t(1375),h=t(184),v=(0,o.lazy)((function(){return t.e(961).then(t.bind(t,2961))})),p=(0,o.lazy)((function(){return t.e(40).then(t.bind(t,4040))})),d=(0,o.lazy)((function(){return t.e(647).then(t.bind(t,8647))})),x=function(){var e,n=(0,a.lr)(),t=(0,s.Z)(n,2),u=t[0],x=t[1],b=(0,o.useState)([]),m=(0,s.Z)(b,2),g=m[0],j=m[1],k=(0,o.useState)(!1),_=(0,s.Z)(k,2),Z=_[0],w=_[1],y=(0,o.useState)(""),S=(0,s.Z)(y,2),z=S[0],C=S[1],q=null!==(e=u.get("query"))&&void 0!==e?e:"",E=(0,i.TH)(),F=(0,o.useRef)(q),H=(0,o.useCallback)(function(){var e=(0,r.Z)(c().mark((function e(n){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.prev=1,e.next=4,f.Z.fetchSearchsMovie(n);case 4:t=e.sent,j(t.data.results),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),C(e.t0.message);case 11:return e.prev=11,w(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(n){return e.apply(this,arguments)}}(),[]);(0,o.useEffect)((function(){w(!0),""!==F.current?(F.current===q&&H(F.current),w(!1)):w(!1)}),[H,q]);return(0,h.jsxs)(h.Fragment,{children:[z?(0,h.jsx)(v,{message:z}):"",(0,h.jsxs)(o.Suspense,{fallback:(0,h.jsx)(l.Z,{}),children:[(0,h.jsx)(p,{onSubmit:function(e){""!==e.trim()?(!function(e){x(""!==e?{query:e}:{})}(e),H(e)):console.log("\u0437\u0430\u043f\u043e\u0432\u043d\u0438 \u043f\u043e\u043b\u0435")}}),(0,h.jsx)(d,{isLoading:Z,movies:g,location:E})]}),(0,h.jsx)(i.j3,{})]})}}}]);
//# sourceMappingURL=184.5d122033.chunk.js.map